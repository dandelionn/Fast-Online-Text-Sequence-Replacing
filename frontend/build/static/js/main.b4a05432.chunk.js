(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports={Job:"Job_Job__1kHjs",ProcessedText:"Job_ProcessedText__3H5NV"}},12:function(e,t,n){e.exports={JobList:"JobList_JobList__QnKYI",Add:"JobList_Add__3XZBv"}},20:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAABEAgMAAAA6rGnQAAAACVBMVEX///8AAAD69eeRpz14AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAACXSURBVEjH7ZWxDcAgDATTJHMxAgVPwQjskw3SwJQBBAoyUSigMFK+8+sk/BiLbVtCO4rUu3P4oisDxPmBDLhwZR4wD+Cgo2mmAVxiAtbXTcImbxbAJ2aYRypl45BS9QC0QHViXDrx1WQE5DAgOtNE45BS9QDZAjymmfYIpnpyYdOg5wE8YsKedLPIsAYBDjFXALof6wK6AXWXs2k1L62EAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAxLTEwVDA1OjA1OjMzLTA1OjAwIbAgEgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMS0xMFQwNTowNTozMy0wNTowMFDtmK4AAAAASUVORK5CYII="},21:function(e,t,n){e.exports={Logo:"Logo_Logo__1e3K_"}},22:function(e,t,n){e.exports={Header:"Header_Header__2StG6"}},23:function(e,t,n){e.exports={Footer:"Footer_Footer__3N6Hv"}},24:function(e,t,n){e.exports={Loader:"Spinner_Loader__31Olc",spin:"Spinner_spin__36VGo"}},26:function(e,t,n){e.exports=n(63)},32:function(e,t,n){},34:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),l=n.n(r),i=(n(32),n(2)),s=n(3),c=n(5),u=n(4),d=n(6),p=(n(34),n(20)),m=n.n(p),h=n(21),g=n.n(h),A=function(){return o.a.createElement("div",{className:g.a.Logo},o.a.createElement("img",{src:m.a,alt:"myLogo"}))},f=n(22),E=n.n(f),b=function(){return o.a.createElement("div",{className:E.a.Header},o.a.createElement(A,null),o.a.createElement("div",null,o.a.createElement("button",{className:"signIn"},"Sign In"),o.a.createElement("button",{className:"signUp"},"Sign Up")))},v=n(23),F=n.n(v),y=function(){return o.a.createElement("div",{className:F.a.Footer},o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null," \xa0 0 \xa0 ")),o.a.createElement("p",null,o.a.createElement("strong",null," processed files so far "))),o.a.createElement("p",null," Terms and Conditions "),o.a.createElement("p",null," \u24b8 Copyright"),o.a.createElement("select",null,o.a.createElement("option",{value:"english"},"English"),o.a.createElement("option",{value:"romanian"},"Romanian")))},_=n(11),O=n.n(_),j=n(7),w=n.n(j),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null;"text"===this.props.selectionType&&null!=this.props.text&&(t=o.a.createElement("p",{className:w.a.Selected},this.props.text," ")),"dictionary"===this.props.selectionType&&null!=this.props.dictionary&&(t=o.a.createElement("p",{className:w.a.Selected},this.props.dictionary," "));var n="Browse File";return"dictionary"===this.props.selectionType&&(n="Browse Dictionary File"),o.a.createElement("div",{onClick:function(){return e.inputElement.click()},className:w.a.DropButton,onDrop:function(t){e.props.drop(t,e.props.selectionType)},onDragOver:this.props.dragOver,onDragLeave:this.props.dragLeave},o.a.createElement("p",{className:w.a.ChooseFile},n),o.a.createElement("p",{className:w.a.DropFile},o.a.createElement("strong",null,"DROP FILE HERE")),t,o.a.createElement("input",{type:"file",accept:"textfile/*",ref:function(t){return e.inputElement=t},onChange:function(t){return e.props.inputChange(t,e.props.selectionType)}}))}}]),t}(a.Component),x=n(24),D=n.n(x),H=function(){return o.a.createElement("div",{className:D.a.Loader})},T=n(8),S=n.n(T),L=n(25),N=n.n(L),B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={dictionaryFile:null,textFile:null,isProcessing:!1,jobFinished:!1,isTimeToProcess:!1},n.shortenFilename=function(e){if(e.length<25)return e;var t=e.lastIndexOf(".");return t>18?e.slice(0,18)+".."+e.slice(t,e.length):void 0},n.dropHandler=function(e,t){console.log("File(s) dropped"),e.preventDefault();var a=null;0!==(a=e.dataTransfer.items&&"file"===e.dataTransfer.items[0].kind?e.dataTransfer.items[0].getAsFile():e.dataTransfer.files[0]).size&&("dictionary"===t?n.setState({dictionaryFile:a}):n.setState({textFile:a}))},n.dragOverHandler=function(e){console.log("File(s) in drop zone"),e.preventDefault()},n.dragLeaveHandler=function(e){console.log("Drag leave!")},n.downloadFileHandler=function(){S.a.get("http://localhost/download/".concat(n.state.textFile.name)).then(function(e){N()(e.data,"processed_".concat(n.state.textFile.name)),console.log(e)}).catch(function(e){console.log(e)}).then(function(){n.setState({jobFinished:!1})})},n.processFileHandler=function(){console.log("IN PROCESS FILE"),S.a.get("http://localhost/process/".concat(n.state.dictionaryFile.name,"/").concat(n.state.textFile.name)).then(function(e){console.log(e),n.setState({jobFinished:!0})}).catch(function(e){console.log(e)}).then(function(){n.setState({isProcessing:!1})})},n.uploadDataHandler=function(e){var t=new FormData;t.append("filename",e);S.a.post("http://localhost/upload",t,{headers:{"content-type":"multipart/form-data"}}).then(function(e){console.log(e),!0===n.state.isTimeToProcess?(n.setState({isTimeToProcess:!1}),n.processFileHandler()):n.setState({isTimeToProcess:!0})}).catch(function(e){console.log(e)})},n.processInputHandler=function(){n.setState({isProcessing:!0}),n.uploadDataHandler(n.state.dictionaryFile),n.uploadDataHandler(n.state.textFile)},n.inputChangedHandler=function(e,t){var a=e.target.files||e.dataTransfer.files;a.length||console.log("no files"),console.log(a),console.log(a[0]),0!==a[0].size&&("dictionary"===t?n.setState({dictionaryFile:a[0]}):n.setState({textFile:a[0]}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(C,{dictionary:this.state.dictionaryFile?this.shortenFilename(this.state.dictionaryFile.name):null,dragOver:this.dragOverHandler,drop:this.dropHandler,dragLeave:this.dragLeaveHandler,selectionType:"dictionary",inputChange:this.inputChangedHandler})),o.a.createElement("div",null,o.a.createElement(C,{text:this.state.textFile?this.shortenFilename(this.state.textFile.name):null,dragOver:this.dragOverHandler,drop:this.dropHandler,dragLeave:this.dragLeaveHandler,selectionType:"text",inputChange:this.inputChangedHandler})),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.processInputHandler},"Process File")));return!0===this.state.isProcessing&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(H,null),o.a.createElement("p",null,"Processing..."))),!0===this.state.jobFinished&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:O.a.ProcessedText},"\xa0 processed_",this.shortenFilename(this.state.textFile.name)),o.a.createElement("button",{onClick:this.downloadFileHandler},"Download "))),o.a.createElement("li",{className:O.a.Job},e)}}]),t}(a.Component),k=n(12),J=n.n(k),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={jobsCount:1},n.addNewJob=function(){n.setState({jobsCount:n.state.jobsCount+1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.state.jobsCount;++t)e.push(o.a.createElement(B,{key:t}));return o.a.createElement("div",{className:J.a.JobList},o.a.createElement("ul",null,e,o.a.createElement("button",{className:J.a.Add,onClick:this.addNewJob},"add job")))}}]),t}(a.Component),I=n(9),R=n.n(I),V=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isProcessing:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:R.a.Content},o.a.createElement("p",{className:R.a.title},"Aho-Corasick Words Replacer"),o.a.createElement(P,null),o.a.createElement("p",{className:R.a.description},"Choose a file and a dictionary. Hit the process button and the files will be uploaded and processed. After that a download button will appear. You have to provide non-empty files."))}}]),t}(a.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b,null),o.a.createElement(V,null),o.a.createElement(y,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){e.exports={DropButton:"DropButton_DropButton__1XOPJ",ChooseFile:"DropButton_ChooseFile__2f-JU",DropFile:"DropButton_DropFile__28mUj",Selected:"DropButton_Selected__2quw8"}},9:function(e,t,n){e.exports={Content:"Content_Content__1om78",title:"Content_title__qmZDQ",description:"Content_description__1XRyi"}}},[[26,2,1]]]);
//# sourceMappingURL=main.b4a05432.chunk.js.map